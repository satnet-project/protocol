sudo: false

language: 'python'

branches:
  only:
    - master
    - development

python:
  - '2.7'

git:
  submodules: false

install:
  - cd scripts
  - bash ./setup.sh -travisCI

script:
  - cd ../tests
#  - trial test_receiveMsg
  - trial test_connectionDown
  - trial test_loginProcess
  - trial test_sendMsg
#  - trial test_connectionEstablished
#  - coverage run -p test_receiveMsg.py
  - coverage run -p test_connectionDown.py
  - coverage run -p test_loginProcess.py
  - coverage run -p test_sendMsg.py
#  - coverage run -p test_connectionEstablished.py

after_success:
  - coverage combine
  - coverage report --omit '/home/travis/virtualenv/*'
  - coveralls --rcfile='/home/travis/build/satnet-project/protocol/.coveragerc'
